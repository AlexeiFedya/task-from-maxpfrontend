import React,{Component} from 'react'
import {
  Navbar,
  Nav,
  NavItem,
	Button } from 'reactstrap'
import {Link} from 'react-router-dom'
import {connect} from 'react-redux'
import PropTypes from 'prop-types'

import {actionLogout} from 'Actions'

class TopLine extends Component{
	render(){
    const buttonLoginLogout = () => {
      if( this.props.login )
        return <Button  color="danger" onClick={this.props.actionLogout.bind(null)} >Logout</Button>
      else
        return <Link to="/login" ><Button  color="primary" >Login</Button></Link> 
    }
		return(
			<div className="top-line">
				<div className="container">
					<Navbar color="light" light expand="md">
            <Nav navbar>
              <NavItem>
              	<Link to="/">Home</Link>
              </NavItem>
              <NavItem>
              	<Link to="/news">News</Link>
              </NavItem>
              <NavItem>
                <Link to="/profile">Profile</Link>
              </NavItem>
            </Nav>
            <div className="ml-auto">
              {buttonLoginLogout()}
            </div>
	        </Navbar>
				</div>
			</div>
		)
	}
}

TopLine.propTypes = {
  login: PropTypes.bool.isRequired,
  actionLogout: PropTypes.func
}

const mapStateToProps = (state) => ({
  login: state.login.login
})

const mapDispatchToProps = (dispatch) => ({
  actionLogout: () => dispatch(actionLogout())
})

export default connect(mapStateToProps, mapDispatchToProps)(TopLine)