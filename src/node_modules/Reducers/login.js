import {
	START,
	SUCCESS,
	FAILURE,
	LOGIN,
	LOGOUT
} from 'constants.js'

const initialState = {
	login: false,
	connecting: false,
	error: false,
	id: null,
}

export default (state = initialState, action) => {
	const {type, payload} = action
	switch(type){
		case LOGIN+START:
			return {
				...state, 
				connecting: true, 
				error: false
			}
		case LOGIN+SUCCESS:
			return {
				...state, 
				connecting: 
				false, 
				login: true, 
				id: payload.id
			}
		case LOGIN+FAILURE:
			return {
				connecting: false, 
				login: false, 
				error: true, 
				id: null
			}
		case LOGOUT:
			return {
				...state, 
				connecting: false, 
				login: false, 
				id: null
			}
		default:
			return state
	}
}